/*
 * Lydia Pitts & Yadira Cruz
 * 
 */
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;


public class FrequencyMap {
	
	String STRING_FILE = "";
	String SEQUENCE = "";
	char NEW_CHAR = ' ';

	
	public FrequencyMap(String fileName, String sequence) {
		STRING_FILE = fileName;
		SEQUENCE = sequence;
	}
	
	public Map<Character, Integer> newMap = new HashMap<Character, Integer>();

	
	public void getNewChar(){
		int indexOfSeq = STRING_FILE.indexOf(SEQUENCE);
		int seqLength = SEQUENCE.length();
		int indexOfChar = indexOfSeq + seqLength;
		char theCharacter = STRING_FILE.charAt(indexOfChar);
		NEW_CHAR = theCharacter;
		char[] fileChars = STRING_FILE.toCharArray();
		fileChars[indexOfSeq] = '_';
		STRING_FILE = String.valueOf(fileChars); //This makes sure it doesn't use the same set of letters each time
	}//End of getNewChar
	
	
	public void addToMap() {
		if (newMap.containsKey(NEW_CHAR))
		{
			newMap.put(NEW_CHAR, newMap.get(NEW_CHAR) + 1);
		} else {
			newMap.put(NEW_CHAR, 1);
		}
	}//End addToMap
	
	
	public char charToAdd() {
		ArrayList<Character> charProbabilities = new ArrayList<Character>();
		for(char item : newMap.keySet()) {
			int numOfChar = newMap.get(item);
			int i = 0;
			while (i < numOfChar) {
				charProbabilities.add(item);
				i++;
			}
		}
		int length = charProbabilities.size();
		int index = (int) (Math.random() * length); 
		return charProbabilities.get(index);
	}//end of charToAdd
	
	
	
	
		

	
}//End of Class
