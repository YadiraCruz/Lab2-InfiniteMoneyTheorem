import java.io.File;
import java.io.FileNotFoundException;
//import java.util.Random;
//import java.util.Scanner;
import java.util.*;


public class WordGen {
	
	
	String FILE_AS_STRING = "";
	int K_VALUE = 0;
	
	
	public void readFile() {
		Scanner userFile = new Scanner(System.in);
		System.out.println("Enter file to read: ");

		String fileName = userFile.nextLine();
		
		File file = new File(fileName);
		Scanner fileReader;
		
		try {
			fileReader = new Scanner(file);
			while (fileReader.hasNextLine()) {
				String line = fileReader.nextLine();
				FILE_AS_STRING += line + System.lineSeparator();
			}	
		} catch(FileNotFoundException e) {
			e.printStackTrace();
		}
		
	}//End of readFile
	
	
	
	public String toString() {
		return FILE_AS_STRING;
	}

	
	
	public int getValueOfK() {
		Scanner userInput = new Scanner(System.in);
		System.out.println("Enter desired value of K: ");
		String kValue = userInput.nextLine();
		int intValueK = Integer.parseInt(kValue);
		K_VALUE = intValueK;
		return intValueK;
	}
	
	
	
	public static char randomChar() {
		String letters = "abcdefghijklmnopqrstuvwxyz";
		int index = (int) (Math.random() * 26);
		return letters.charAt(index);
	}
	
	
	public String getStringK() {
		int i = 0;
		String stringK = "";
		while(i < K_VALUE) {
			stringK += this.randomChar();
			i++;
		}
		return stringK;
	}
	
	
	public void createFinalString() {
		SequenceTable st = new SequenceTable(FILE_AS_STRING, K_VALUE);
		st.getNewSequence();
		st.iterateSeqArray();
		String outPut = this.getStringK();
		int i = 0;
		int substringIndex = K_VALUE;
		while (i < 700) {
			String sequence = outPut.substring(i , (substringIndex));
			if(st.arrayOfSequences().contains(sequence)){
				outPut += st.getCharacter(sequence);
			} else {
				outPut += this.randomChar();
			}
			i++;
			substringIndex++;
		}//end while loop
		System.out.println(outPut);
	}//End of createFinalString

	
	
	public static void main(String[] args) {
		WordGen wg = new WordGen();
		wg.readFile();
		wg.getValueOfK();
		wg.createFinalString();
	}//end of main
	
	
	
	
}//End of class
 
